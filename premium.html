<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- M√©tadonn√©es Premium -->
    <title>TirageExpress Premium - Application Complete</title>
    <meta name="description" content="TirageExpress Premium : Application complete avec joueurs illimites, tous types de parties, sauvegarde et export PDF.">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- EN-T√äTES ANTI-CACHE -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <style>
        /* Styles de protection */
        .auth-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        
        .auth-container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .auth-container h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .auth-container p {
            color: #7f8c8d;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .auth-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1.1em;
            text-align: center;
        }
        
        .auth-input:focus {
            outline: none;
            border-color: #e74c3c;
        }
        
        .auth-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            margin-right: 10px;
        }
        
        .auth-btn-secondary {
            background: #ecf0f1;
            color: #2c3e50;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        
        .premium-badge {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            margin-bottom: 20px;
            display: inline-block;
        }
        
        .error-message {
            color: #e74c3c;
            margin-top: 15px;
            display: none;
        }
        
        /* Badge Premium discret en haut */
        .premium-header {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            padding: 8px 20px;
            text-align: center;
            font-weight: 600;
            font-size: 0.9em;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        /* Application compl√®te cach√©e par d√©faut */
        #premiumApp {
            display: none;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <!-- Overlay de protection -->
    <div id="authOverlay" class="auth-overlay">
        <div class="auth-container">
            <div class="premium-badge">‚≠ê TirageExpress Premium</div>
            <h2>Acces Reserve aux Clients</h2>
            <p>
                Vous avez achete TirageExpress Premium ? 
                Entrez votre code d'activation recu par email.
            </p>
            
            <input type="password" id="accessCode" class="auth-input" placeholder="Code d'activation Premium" maxlength="17">
            
            <div>
                <button class="auth-btn" onclick="verifyAccess()">üöÄ Acceder a Premium</button>
            </div>
            
            <div class="error-message" id="errorMessage">
                ‚ùå Code incorrect. Verifiez votre email ou contactez le support.
            </div>
            
            <p style="margin-top: 30px; font-size: 0.9em; color: #95a5a6;">
                Pas encore client ? 
                <a href="./index.html#tarifs" class="auth-btn-secondary" style="margin: 0;">Acheter Premium</a>
            </p>
        </div>
    </div>

    <!-- Badge Premium discret -->
    <div id="premiumHeader" class="premium-header" style="display: none;">
        ‚≠ê TirageExpress Premium Active - Version Complete
    </div>

    <!-- Application Premium (cach√©e par d√©faut) -->
    <div id="premiumApp" style="display: none;">
        <h1>Application Premium Chargee !</h1>
        <p>Felicitations ! Vous avez acces a TirageExpress Premium.</p>
    </div>

    <script>
        const premiumCodes = [
            'PREMIUM2025A',
            'PREMIUM2025B', 
            'PREMIUM2025C',
            'PREMIUM2025D',
            'PREMIUM2025E',
            'PREMIUM2025QFS857',
            'PREMIUM2025R0V073',
        ];
        
        function verifyAccess() {
            const enteredCode = document.getElementById('accessCode').value.trim().toUpperCase();
            const errorDiv = document.getElementById('errorMessage');
            
            console.log('üîç Code teste:', enteredCode);
            
            // Codes fixes de base
            const fixedCodes = [
                'PREMIUM2025A', 'PREMIUM2025B', 'PREMIUM2025C', 'PREMIUM2025D', 'PREMIUM2025E'
            ];
            
            // Pattern pour codes auto-g√©n√©r√©s
            const autoPattern = /^PREMIUM2025[A-Z0-9]{3}[0-9]{3}$/;
            const proPattern = /^PRO2025[A-Z0-9]{3}[0-9]{3}$/;
            
            // Tests de validation
            const isFixedCode = fixedCodes.includes(enteredCode);
            const isAutoCode = autoPattern.test(enteredCode);
            const isProCode = proPattern.test(enteredCode);
            
            if (isFixedCode || isAutoCode || isProCode) {
                console.log('üéâ ACCES ACCORDE !');
                
                // Cacher l'overlay et afficher l'app
                document.getElementById('authOverlay').style.display = 'none';
                document.getElementById('premiumApp').style.display = 'block';
                document.getElementById('premiumHeader').style.display = 'block';
                
                // Sauvegarder l'acc√®s
                sessionStorage.setItem('tirageexpress_premium', 'true');
                sessionStorage.setItem('tirageexpress_code', enteredCode);
                
            } else {
                console.log('‚ùå ACCES REFUSE');
                
                errorDiv.style.display = 'block';
                document.getElementById('accessCode').value = '';
                document.getElementById('accessCode').focus();
            }
        }
        
        // Permettre la validation avec Entr√©e
        document.getElementById('accessCode').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                verifyAccess();
            }
        });
        
        // V√©rifier si d√©j√† connect√© dans cette session
        window.addEventListener('load', function() {
            if (sessionStorage.getItem('tirageexpress_premium') === 'true') {
                document.getElementById('authOverlay').style.display = 'none';
                document.getElementById('premiumApp').style.display = 'block';
                document.getElementById('premiumHeader').style.display = 'block';
            }
        });
        
        console.log('‚úÖ Premium.html charge correctement - Version sans accents');
    </script>
</body>
</html>
